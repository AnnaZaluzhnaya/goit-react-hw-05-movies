{"version":3,"file":"static/js/222.a449a7c8.chunk.js","mappings":"oQACA,GAAgB,UAAY,0BAA0B,WAAa,2BAA2B,YAAc,4BAA4B,aAAe,6BAA6B,iBAAmB,iCAAiC,WAAa,4B,SC+ErP,EAtEe,WACX,OAAwCA,EAAAA,EAAAA,UAAS,MAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAWF,EAAaG,IAAI,SAC5BC,GAAWC,EAAAA,EAAAA,MAwBjB,OARAC,EAAAA,EAAAA,YAAU,WACW,KAAbJ,GAGJA,IAAYK,EAAAA,EAAAA,IAAiBL,GAAUM,MAAK,SAAAC,GAAK,OAAIX,EAAgBW,QACvE,CAACP,KAIC,4BACI,gBAAKQ,UAAWC,EAAAA,UAAhB,UACJ,kBAAMD,UAAWC,EAAAA,WAAkBC,SAzBlB,SAAAC,GACjBA,EAAMC,iBACN,IAAMC,EAAaF,EAAMG,cACnBC,EAAQJ,EAAMK,OAAOC,SAASC,MAAMH,MAAMI,cAEhDpB,EAAgB,CAACmB,MAAOH,IACxBF,EAAWO,QAES,KAAjBL,EAAMM,QACLC,IAAAA,OAAAA,QAAwB,uEAgB5B,WACI,kBACAd,UAAWC,EAAAA,YACXc,KAAK,QACLC,KAAK,OACLC,YAAY,gBACZC,WAAS,KAET,mBAAQlB,UAAWC,EAAAA,aAAoBe,KAAK,SAA5C,UACA,2BACI,SAAC,MAAD,cAMR,wBACC7B,GAAgBA,EAAagC,QAAQC,KAAI,SAAArB,GAAK,OAC3C,eAAIC,UAAWC,EAAAA,WAAf,UACI,SAAC,KAAD,CAAMD,UAAWC,EAAAA,iBAAuBoB,GAAE,kBAAatB,EAAMuB,IAC7DC,MAAO,CAAEC,KAAM9B,GADf,SAC4BK,EAAM0B,SAFD1B,EAAMuB,c,yMCxDjDI,EAAM,mCACNC,EAAW,+BAEJC,EAAiB,mCAAG,uGACtBC,GAAAA,CAAM,GAAD,OAAIF,EAAJ,uCAA2CD,IAAO5B,MAC1D,SAAAgC,GAAQ,OAAIA,EAASC,SAFI,2CAAH,qDAMjBlC,EAAgB,mCAAG,WAAOkB,GAAP,0FACrBc,GAAAA,CAAM,GAAD,OAAIF,EAAJ,iCAAqCD,EAArC,yBAAyDX,IAAQjB,MACzE,SAAAgC,GAAQ,OAAIA,EAASC,SAFG,2CAAH,sDAMhBC,EAAiB,mCAAG,WAAOC,GAAP,0FACtBJ,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAsBM,EAAtB,oBAAyCP,IAAO5B,MACxD,SAAAgC,GAAQ,OAAIA,EAASC,SAFI,2CAAH,sDAMjBG,EAAiB,mCAAG,WAAOD,GAAP,0FACxBJ,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAsBM,EAAtB,4BAAiDP,IAAO5B,MAClE,SAAAgC,GAAQ,OAAIA,EAASC,SAFQ,2CAAH,sDAMjBI,EAAiB,mCAAG,WAAOF,GAAP,0FACxBJ,GAAAA,CAAM,GAAD,OAAIF,EAAJ,kBAAsBM,EAAtB,4BAAiDP,IAAO5B,MAClE,SAAAgC,GAAQ,OAAIA,EAASC,SAFQ,2CAAH","sources":["webpack://react-homework-template/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/moviesAPI.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"searchbar\":\"Movies_searchbar__IBimh\",\"searchForm\":\"Movies_searchForm__J4-xw\",\"SearchInput\":\"Movies_SearchInput__RnpEG\",\"SearchButton\":\"Movies_SearchButton__fnOqk\",\"searchMoviesLink\":\"Movies_searchMoviesLink__-Nutj\",\"searchList\":\"Movies_searchList__acL74\"};","import { useState, useEffect } from 'react';\nimport Notiflix from 'notiflix';\nimport { Link, useSearchParams, useLocation } from 'react-router-dom';\nimport { BiSearchAlt } from 'react-icons/bi';\nimport {showSearchMovies} from 'services/moviesAPI';\nimport PropTypes from 'prop-types';\nimport style from './Movies.module.css';\n\n\n\nconst Movies = () => {\n    const [enteredValue, setEnteredValue] = useState(null);\n    const [searchParams, setSearchParams] = useSearchParams();\n    const getQuery = searchParams.get('query');\n    const location = useLocation();\n\n    const handleSubmit = event => {\n        event.preventDefault();\n        const valueInput = event.currentTarget;\n        const value = event.target.elements.query.value.toLowerCase();\n        \n        setSearchParams({query: value});\n        valueInput.reset();\n\n        if(value.trim() === ''){\n            Notiflix.Notify.failure(\"Please,check the correct spelling of the movie title and try again\");\n            return;\n        }\n    };\n\n    useEffect(() => {\n        if (getQuery === ''){\n            return;\n        }\n        getQuery && showSearchMovies(getQuery).then(movie => setEnteredValue(movie));\n    },[getQuery]);\n\n    \n    return (\n        <div >\n            <div className={style.searchbar}>\n        <form className={style.searchForm} onSubmit={handleSubmit} >\n            <input\n            className={style.SearchInput}\n            name=\"query\"\n            type=\"text\"\n            placeholder=\"Search movies\"\n            autoFocus\n            />\n            <button className={style.searchButton} type=\"submit\" >\n            <span >\n                <BiSearchAlt/>\n            </span>\n            </button>\n        </form>\n        </div>\n        \n        <ul>\n        {enteredValue && enteredValue.results.map(movie => (\n            <li className={style.searchList}key={movie.id}>\n                <Link className={style.searchMoviesLink}to={`/movies/${movie.id}`}\n                state={{ from: location }}>{movie.title}\n                </Link>\n            </li>\n        ))}\n        </ul>\n        </div>\n    );\n};\n\nMovies.propTypes = {\n    movie: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.number.isRequired,\n            title: PropTypes.string.isRequired,\n        }),\n    ),\n};\n\n\nexport default Movies;","\nimport axios from 'axios';\n\nconst KEY = 'b732e1e1afcd10d94706b0318ae2f23c';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nexport const showPopularMovies = async () => {\n    return axios(`${BASE_URL}/trending/movie/day?api_key=${KEY}`).then(\n        response => response.data\n      );\n};\n\nexport const showSearchMovies = async (name) => {\n    return axios(`${BASE_URL}/search/movie?api_key=${KEY}&page=1&query=${name}`).then(\n        response => response.data\n      );\n}\n\nexport const showMoviesDetails = async (movieId) => {\n    return axios(`${BASE_URL}/movie/${movieId}?api_key=${KEY}`).then(\n        response => response.data\n      );\n}\n\nexport const showMoviesCredits = async (movieId) => {\n  return axios(`${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`).then(\n    response => response.data\n  );\n}\n\nexport const showMoviesReviews = async (movieId) => {\n  return axios(`${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}`).then(\n    response => response.data\n  );\n}\n\n"],"names":["useState","enteredValue","setEnteredValue","useSearchParams","searchParams","setSearchParams","getQuery","get","location","useLocation","useEffect","showSearchMovies","then","movie","className","style","onSubmit","event","preventDefault","valueInput","currentTarget","value","target","elements","query","toLowerCase","reset","trim","Notiflix","name","type","placeholder","autoFocus","results","map","to","id","state","from","title","KEY","BASE_URL","showPopularMovies","axios","response","data","showMoviesDetails","movieId","showMoviesCredits","showMoviesReviews"],"sourceRoot":""}